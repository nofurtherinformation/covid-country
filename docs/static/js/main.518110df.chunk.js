(this["webpackJsonpcovid-country"]=this["webpackJsonpcovid-country"]||[]).push([[0],{127:function(t,e){},205:function(t,e,n){},214:function(t,e){},217:function(t,e,n){},218:function(t,e,n){"use strict";n.r(e);var o=n(36),i=n(3),a=n.n(i),c=n(79),r=n.n(c),s=(n(205),n(9)),u=n(145),l=n(247),d=n(124),b=n(152),f=n(129),g=n(158),j=n(249),O=n(16),h=n(251),y=n(242),S=n(147),v=n(246),p=n(146),F=n(101);function _(){var t=Object(u.a)(["\n    position:fixed;\n    width:100%;\n    height:100%;\n    top:0;\n    left:0;\n    overflow:visible;\n    background:rgb(15,15,15);\n    color:white;\n    button {\n        color:white;\n    }\n"]);return _=function(){return t},t}var w={state_boundaries:"".concat(".","/data/state_borders.json"),county_boundaries:"".concat(".","/data/county_borders.json")},E=S.a.div(_()),m=new y.a({iterations:1}),x=new d.a({color:[128,128,0],intensity:5,direction:[0,-100,-100],_shadow:!0}),C=new b.a({color:[180,220,220],intensity:3}),T=F.d().domain([0,.03,.05,.1,.15,.2,.25,1e3]).range(["#0D0887","#5C01A6","#9C179E","#CB4679","#ED7953","#FDB42F","#F0F921","#F0F921"]),P=function(){var t=Object(i.useState)({latitude:0,longitude:0,zoom:4.75,pitch:40,bearing:0}),e=Object(s.a)(t,2),n=e[0],a=(e[1],Object(i.useState)((function(){var t=new f.a({dirLight:x,ambientLight:C});return t.shadowColor=[0,0,0,.15],[t]}))),c=Object(s.a)(a,1)[0],r=Object(i.useState)(["2020-03-02"]),u=Object(s.a)(r,2),d=u[0],b=u[1],y=Object(i.useState)(["2020-03-01"]),S=Object(s.a)(y,2),_=(S[0],S[1]),P=Object(i.useState)(null),M=Object(s.a)(P,2),k=(M[0],M[1]),D=Object(i.useState)(null),L=Object(s.a)(D,2),R=(L[0],L[1]),B=Object(i.useState)([]),I=Object(s.a)(B,2),W=I[0],Y=I[1],A=Object(i.useState)(0),J=Object(s.a)(A,2),V=J[0],z=J[1];Object(i.useEffect)((function(){F.c("".concat(".","/data/centroids_testing_albers.csv"),F.a).then((function(t){Y(t)}))}),[]),console.log(W);var N=[new g.a({coordinateSystem:O.a.METER_OFFSETS,id:"background",data:[[[-4e5,24e4],[44e4,24e4],[44e4,-24e4],[-4e5,-24e4]]],opacity:1,getPolygon:function(t){return t},stroked:!1,filled:!0,getFillColor:[15,15,15]}),new j.a({id:"county-layer",coordinateSystem:O.a.METER_OFFSETS,data:w.county_boundaries,getPolygon:function(t){return t},stroked:!0,filled:!1,lineWidthMinPixels:1,getLineColor:[240,240,240,10],getLineWidth:1}),new j.a({id:"polygon-layer",coordinateSystem:O.a.METER_OFFSETS,data:w.state_boundaries,getPolygon:function(t){return t},stroked:!0,filled:!1,lineWidthMinPixels:1,getLineColor:[240,240,240,25],getLineWidth:1}),new h.a({id:"mesh-layer",coordinateSystem:O.a.METER_OFFSETS,data:W,mesh:m,wireframe:!0,getPosition:function(t){return[t.x,t.y]},getColor:function(t){return function(t){var e=F.b(T(t));return null===e?[240,240,240]:[e.r,e.g,e.b,150]}(t["pos_".concat(d)]*(V/100)+t["pos_".concat(d)]*((100-V)/100))},getScale:function(t){return[2500,2500,5e5*(t["pos_".concat(d)]*(V/100)+t["pos_".concat(d)]*((100-V)/100))]},getTranslation:function(t){return[0,0,5e5*(t["pos_".concat(d)]*(V/100)+t["pos_".concat(d)]*((100-V)/100))]},updateTriggers:{getTranslation:[d],getScale:[d,V],getColor:[d,V]}})];return Object(o.jsxs)(E,{children:[Object(o.jsx)(v.a,{onClick:function(){b(["2020-03-02"]),_(["2020-03-01"]),k(setInterval((function(){b((function(t){if(t<"2021-01-19"){var e=p(t,"YYYY-MM-DD");return _(e.format().slice(0,10)),(e=e.add(1,"day")).format().slice(0,10)}return k(null),R(null),t}))}),100)),R(setInterval((function(){z((function(t){return t>=99?0:t+5}))}),5))},id:"playButton",children:"Play"}),Object(o.jsxs)("div",{id:"title",children:[Object(o.jsx)("h1",{children:"COVID Testing Positivity Rates"}),Object(o.jsxs)("h2",{children:["7-Day Rolling Average of ",d]})]}),Object(o.jsx)(l.a,{layers:N,initialViewState:n,effects:c,controller:!0})]})};n(217);var M=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(P,{})})},k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,253)).then((function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),o(t),i(t),a(t),c(t)}))};r.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(M,{})}),document.getElementById("root")),k()}},[[218,1,2]]]);
//# sourceMappingURL=main.518110df.chunk.js.map