(this["webpackJsonpcovid-country"]=this["webpackJsonpcovid-country"]||[]).push([[0],{127:function(e,t){},205:function(e,t,n){},214:function(e,t){},217:function(e,t,n){},218:function(e,t,n){"use strict";n.r(t);var i=n(26),o=n(3),r=n.n(o),a=n(79),c=n.n(a),s=(n(205),n(9)),l=n(145),d=n(247),u=n(124),b=n(152),j=n(129),g=n(158),f=n(249),h=n(251),v=n(16),O=n(242),y=n(147),p=n(246),x=n(146),S=n(101);function C(){var e=Object(l.a)(["\n    position:fixed;\n    width:100%;\n    height:100%;\n    top:0;\n    left:0;\n    overflow:visible;\n    background:rgb(15,15,15);\n"]);return C=function(){return e},e}var F={state_boundaries:"".concat(".","/data/state_borders.json"),county_boundaries:"".concat(".","/data/county_borders.json")},m=y.a.div(C()),E=(new O.a({iterations:1}),new u.a({color:[128,128,0],intensity:5,direction:[0,-100,-100],_shadow:!0})),_=new b.a({color:[180,220,220],intensity:3}),w=["#0D0887","#5C01A6","#9C179E","#CB4679","#ED7953","#FDB42F","#F0F921","#F0F921"],k=[0,.03,.05,.1,.15,.2,.25,1e3],T=S.d().domain(k).range(w),L=function(){var e=Object(o.useState)({latitude:0,longitude:0,zoom:4.75,pitch:40,bearing:0}),t=Object(s.a)(e,2),n=t[0],r=(t[1],Object(o.useState)((function(){var e=new j.a({dirLight:E,ambientLight:_});return e.shadowColor=[0,0,0,.15],[e]}))),a=Object(s.a)(r,1)[0],c=Object(o.useState)(["2020-02-01"]),l=Object(s.a)(c,2),u=l[0],b=l[1],O=Object(o.useState)(null),y=Object(s.a)(O,2),C=y[0],L=y[1],D=Object(o.useState)([]),P=Object(s.a)(D,2),M=P[0],R=P[1];Object(o.useEffect)((function(){document.addEventListener("contextmenu",(function(e){return e.preventDefault()})),S.c("".concat(".","/data/centroids_testing_albers.csv"),S.a).then((function(e){R(e)}))}),[]);var A=[new g.a({coordinateSystem:v.a.METER_OFFSETS,id:"background",data:[[[-4e5,24e4],[44e4,24e4],[44e4,-24e4],[-4e5,-24e4]]],opacity:1,getPolygon:function(e){return e},stroked:!1,filled:!0,getFillColor:[15,15,15]}),new f.a({id:"county-layer",coordinateSystem:v.a.METER_OFFSETS,data:F.county_boundaries,getPolygon:function(e){return e},stroked:!0,filled:!1,lineWidthMinPixels:1,getLineColor:[240,240,240,10],getLineWidth:1}),new f.a({id:"polygon-layer",coordinateSystem:v.a.METER_OFFSETS,data:F.state_boundaries,getPolygon:function(e){return e},stroked:!0,filled:!1,lineWidthMinPixels:1,getLineColor:[240,240,240,25],getLineWidth:1}),new h.a({id:"line-layer",coordinateSystem:v.a.METER_OFFSETS,data:M,diskResolution:6,radius:5e3,material:!1,extruded:!0,pickable:!0,elevationScale:5e3,getPosition:function(e){return[e.x,e.y]},getFillColor:function(e){return function(e){var t=S.b(T(e));return null===t?[240,240,240]:[t.r,t.g,t.b,150]}(e["pos_".concat(u)])},getLineColor:[0,0,0],getElevation:function(e){return[250*e["pos_".concat(u)]]},updateTriggers:{getFillColor:u,getElevation:u},transitions:{getFillColor:175,getElevation:175}})];return Object(i.jsxs)(m,{children:[Object(i.jsx)(p.a,{onClick:function(){b(["2020-02-01"]),null===C&&L(setInterval((function(){b((function(e){if(e<"2021-01-19"){var t=x(e,"YYYY-MM-DD");return(t=t.add(1,"day")).format().slice(0,10)}return e}))}),175))},id:"playButton",children:null===C?"Play":"Reset"}),Object(i.jsxs)("div",{id:"title",children:[Object(i.jsx)("h1",{children:"COVID Testing Positivity Rates"}),Object(i.jsxs)("h2",{children:["7-Day Rolling Average of ",u]})]}),Object(i.jsx)("div",{id:"logo",children:Object(i.jsx)("a",{href:"https://theuscovidatlas.org/",target:"_blank",rel:"noopener noreferrer",children:Object(i.jsx)("img",{src:"".concat(".","/logo.svg"),alt:"US Covid Atlas Logo"})})}),Object(i.jsxs)("div",{id:"attribution",children:[Object(i.jsx)("a",{href:"https://theuscovidatlas.org/",target:"_blank",rel:"noopener noreferrer",children:Object(i.jsx)("p",{children:"Learn more at USCovidAtlas.org"})}),Object(i.jsx)("p",{children:"Testing data from CDC. State and County boundaries from US Census."})]}),Object(i.jsxs)("div",{id:"scale",children:[Object(i.jsx)("div",{id:"breaks",children:k.slice(1,-1).reverse().map((function(e,t){return Object(i.jsxs)("p",{children:[0===t?">":"",parseInt(100*e),"%"]})}))}),Object(i.jsx)("div",{id:"colors",children:w.slice(0,-1).reverse().map((function(e){return Object(i.jsx)("span",{style:{backgroundColor:e}})}))})]}),Object(i.jsx)(d.a,{layers:A,initialViewState:n,effects:a,controller:!0})]})};n(217);var D=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(L,{})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,253)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),o(e),r(e),a(e)}))};c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(D,{})}),document.getElementById("root")),P()}},[[218,1,2]]]);
//# sourceMappingURL=main.8bf5d4cc.chunk.js.map